<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MediasourceAdd Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
</div>
<div class="header">
  <div class="headertitle">
<div class="title">MediasourceAdd Interface Reference<div class="ingroups"><a class="el" href="group___h_t_t_p___q_u_e_r_y___a_p_i.html">HTTP Query API for TVersity Services</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="MediasourceAdd" -->
<p>Add a new media source to the library.  
 <a href="interface_mediasource_add.html#details">More...</a></p>
<table class="memberdecls">
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Add a new media source to the library. </p>
<p><b>Path:</b> /mediasource/add</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">url</td><td>The URL of the media source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">title</td><td>The title of the media source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tags</td><td>The tags to associate with it (a comma separated list of tags, each tags can use dots for hierarchy and two consecutive dots to indicatete a dot character) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The type of the media source. Possible values are <code>file</code>, <code>folder</code>, <code>audurl</code>, <code>vidurl</code>, <code>imgurl</code>, <code>audfeed</code>, <code>vidfeed</code>, <code>imgfeed</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lookforaudio</td><td>A boolean value indicating if to look for audio items or not whne processing the media source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lookforvideo</td><td>A boolean value indicating if to look for video items or not whne processing the media source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lookforphoto</td><td>A boolean value indicating if to look for photos items or not whne processing the media source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transcodingwhen</td><td>One of <code>always</code>, <code>never</code>, <code>pprofile</code> or an empty string, where an empty string means that the global system settings applies, <code>pprofile</code> means: automatically determine whether the media should be transcoded based on the profile associated with the given device. This value overrides the system wide settings (see <a class="el" href="interface_settings_fetch.html" title="Fetch the current server settings.">SettingsFetch</a> for more information) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">public</td><td>A boolean value indicating if the media source is public and hence can be sent to a global respository for sharing with others. This field is only relevant for Internet media, local files/folders are always private.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The newly added id (if added succesfully) within an XML documnt with the top level element <code>response</code> and two attributes <code>status</code> and <code>message</code>. The status can be either <code>success</code> or <code>failure</code> and the message describes the cause of the error in a user friendly manner.</dd></dl>
<p><b>Advanced</b> <b>Paramters:</b> Some optional advanced parameters that are supported as well are below </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">menus</td><td>A specific set of menus under which this media source should be added (a comma separated list of menu names, each name can use dots for hierarchy and two consecutive dots to indicatete a dot character) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">menuroot</td><td>The root under which to place <code>menus</code>. If omitted, it is assumed that the <code>menus</code> start with their root. An unlimited set of root menus can be created by an application, each such set of menus exists side by side with all the other sets and can become the active set of menus by modifying the <code>root</code> settings variable (see <a class="el" href="interface_settings_update.html" title="Update the current server settings.">SettingsUpdate</a> for more information). It is possible to create automatic indexes under any menu root by hard coding such indexes in <code>config.xml</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">features</td><td>A boolen value indicating if the media source should be listed as a top level menu item.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples:</b> </p>
<p>The following will Add the folder <code>c:\test:</code> <code>/mediasource/add</code>?url=c:\test&amp;title=test&amp;type=folder&amp;transcodingwhen=</p>
<p>If that folder does not exist the result will be: <code></p>
<pre>
&lt;response status="failure" message="Content source does not exist or is not currently accessible..."&gt;
  </pre><p></code> If it already exists as a media source the result will be: <code></p>
<pre>
&lt;response status="failure" message="Content source already exists."&gt;
  </pre><p></code> If it exists in the file system and does not exists as a media source, the result will be: <code></p>
<pre>
&lt;response status="success" message="Addition started successfully and will continue in the background."&gt;
  </pre><p></code> </p>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Aug 31 2011 18:06:54 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
